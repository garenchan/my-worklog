# 基于文件的文件系统


## 问题描述

有时候某个目录所在的文件系统空间不足时，并且没有多余或者容量充足的硬盘分区可用。


## 解决办法

可以创建基于文件的文件系统，本质就是使用文件来模拟块设备，也就是loop设备。


## 操作步骤

- 在一个剩余空间充足的文件系统上dd一个大文件`big-file`作为后续的文件系统，文件大
小取决于你的需要，例如下面会创建一个`100MB`的文件。

```shell
dd if=/dev/zero of=big-file bs=1024 count=102400
```

- 将文件`big-file`格式化你想要的文件系统，例如下面会格式化为`ext3`文件系统。

```shell
mkfs.ext3 big-file
```

- 将文件系统挂载至你的目录，例如下面会挂载到`/mnt/cdrom`目录。

```
mount big-file /mnt/cdrom
```
